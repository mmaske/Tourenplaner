GAMS Rev 237  WEX-WEI 23.7.3 x86_64/MS Windows                                                                                                                                                                                         01/24/12 20:42:46 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   2  set
   3       k Menge der Fahrzeuge
   4       i Kundenknoten
   5       Kundenknoten(i)
   6       alias(h,i,j);
   7   
   8  parameter
   9       t(i,j) Fahrzeit von Knoten i zu Knoten j
  10       c(i,j) Entfernung von Knoten i zu Knoten j
  11       d(i)   Nachfrage am Knoten i
  12       cap(k) Kapazität des Fahrzeugs k
  13       M      BigM;
  14  scalar M BigM /100000000000/;
INCLUDE    C:\Sites\Tourenplaner_v2\VRP_v1_Input_Instanz1.inc
  16  set i /
  17  d
  18  i2
  19  i3
  20  i4
  21  i5
  22  i6
  23  /
  24   
  25   k /
  26  v1
  27  v2
  28  /;
  29   
  30  table c(i,j)
  31       d                             i2                            i3                            i4                            i5                            i6
  32  d    9999999999999999999999999     25209.000000                  24812.000000                  1706.000000                   32860.000000                  32981.000000
  33  i2   24811.000000                  9999999999999999999999999     398.000000                    27017.000000                  11673.000000                  8444.000000
  34  i3   24573.000000                  397.000000                    9999999999999999999999999     26779.000000                  11713.000000                  8046.000000
  35  i4   926.000000                    25676.000000                  25279.000000                  9999999999999999999999999     33327.000000                  33448.000000
  36  i5   33095.000000                  12576.000000                  11599.000000                  35301.000000                  9999999999999999999999999     14237.000000
  37  i6   32792.000000                  8453.000000                   8056.000000                   34998.000000                  14254.000000                  9999999999999999999999999
  38  ;
  39   
  40  table t(i,j)
  41       d                             i2                            i3                            i4                            i5                            i6
  42  d    9999999999999999999999999     1551.000000                   1511.000000                   300.000000                    1807.000000                   1900.000000
  43  i2   1528.000000                   9999999999999999999999999     88.000000                     1545.000000                   756.000000                    722.000000
  44  i3   1462.000000                   40.000000                     9999999999999999999999999     1479.000000                   700.000000                    634.000000
  45  i4   116.000000                    1507.000000                   1467.000000                   9999999999999999999999999     1763.000000                   1856.000000
  46  i5   1824.000000                   806.000000                    818.000000                    1841.000000                   9999999999999999999999999     912.000000
  47  i6   1766.000000                   656.000000                    616.000000                    1783.000000                   907.000000                    9999999999999999999999999
  48  ;
  49   
  50  Kundenknoten(i) = yes;
  51  Kundenknoten('d') = no;
  52   
  53   
  54  parameter cap(k) /
  55  v1   125.000000
  56  v2   145.000000
  57  /;
  58   
  59  parameter d(i) /
  60  d    0.000000
  61  i2   22.000000
  62  i3   44.000000
  63  i4   21.000000
  64  i5   44.000000
  65  i6   71.000000
  66  /;
  67   
  68   
  69   
  70   
  71  variables Z  Zielfunktionswert;
  72  binary variables x Transportmengen;
  73  positive variable w Anfahrtszeitpunkt;
  74   
GAMS Rev 237  WEX-WEI 23.7.3 x86_64/MS Windows                                                                                                                                                                                         01/24/12 20:42:46 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


  75   
  76  Equations
  77  Zielfunktion                               Das ist die Zielfunktion
  78  Nur_einmal_anfahren(i)                     Jeder Kundenknoten darf nur einmal angefahren werden
  79  Fahrzeugkapaziteat(k)                      Die Kapazitaet jedes Fahrzeugs darf nicht überschritten werden
  80  Depot_einmal_pro_Fahrzeug_anfahren(k)      Das Depot darf pro Fahrzeug nur einmal angefahren werden
  81  Depot_einmal_pro_Fahrzeug_abfahren(k)      Das Depot darf pro Fahrzeug nur einmal angefahren werden
  82  Bedingung_noch_nachzuvollziehen(h,k)       Das ist noch eine Bedingung die noch nachzuvollziehen ist
  83  Und_noch_so_eine(k)                        dito
  84  Kurzzyklenbedingung(i,j,k)                 Unterbinden von Kurzzyklen;
  85   
  86  Zielfunktion..
  87       Z =e=   sum((i,j,k),c(i,j)*x(i,j,k));
  88   
  89  Nur_einmal_anfahren(i)$(Kundenknoten(i))..
  90       sum((k,j),x(i,j,k)) =e= 1;
  91   
  92  Fahrzeugkapaziteat(k)..
  93       sum(i$(Kundenknoten(i)),d(i)* sum(j,x(i,j,k))) =l= cap(k);
  94   
  95  Depot_einmal_pro_Fahrzeug_abfahren(k)..
  96       sum(j,x("d",j,k)) =e= 1;
  97   
  98  Bedingung_noch_nachzuvollziehen(h,k)$(Kundenknoten(h))..
  99       sum(i,x(i,h,k))-sum(j,x(h,j,k)) =e= 0;
 100   
 101  Depot_einmal_pro_Fahrzeug_anfahren(k)..
 102       sum(i,x(i,"d",k)) =e= 1;
 103   
 104  Kurzzyklenbedingung(i,j,k)..
 105       w(i,k)+t(i,j)-M*(1-x(i,j,k)) =l= w(j,k);
 106   
 107  model vrp /
 108                   Zielfunktion
 109                   , Nur_einmal_anfahren
 110                   , Fahrzeugkapaziteat
 111                   , Depot_einmal_pro_Fahrzeug_abfahren
 112                   , Bedingung_noch_nachzuvollziehen
 113                   , Depot_einmal_pro_Fahrzeug_anfahren
 114                   , Kurzzyklenbedingung
 115                   /;
 116   
 117   
 118   
 119   
 120  solve vrp minimizing Z using mip;
 121   
 122  display x.l, w.l;
GAMS Rev 237  WEX-WEI 23.7.3 x86_64/MS Windows                                                                                                                                                                                         01/24/12 20:42:46 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  C:\Sites\Tourenplaner_v2\VRP.gms
     2       15 INCLUDE        1      15  .C:\Sites\Tourenplaner_v2\VRP_v1_Input_Instanz1.inc


COMPILATION TIME     =        0.000 SECONDS      3 Mb  WEX237-237 Aug 23, 2011
GAMS Rev 237  WEX-WEI 23.7.3 x86_64/MS Windows                                                                                                                                                                                         01/24/12 20:42:46 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE vrp Using MIP From line 120


---- Zielfunktion  =E=  Das ist die Zielfunktion

Zielfunktion..  Z - 1E25*x(d,d,v1) - 1E25*x(d,d,v2) - 25209*x(d,i2,v1) - 25209*x(d,i2,v2) - 24812*x(d,i3,v1) - 24812*x(d,i3,v2) - 1706*x(d,i4,v1) - 1706*x(d,i4,v2) - 32860*x(d,i5,v1) - 32860*x(d,i5,v2) - 32981*x(d,i6,v1) - 32981*x(d,i6,v2)
     
      - 24811*x(i2,d,v1) - 24811*x(i2,d,v2) - 1E25*x(i2,i2,v1) - 1E25*x(i2,i2,v2) - 398*x(i2,i3,v1) - 398*x(i2,i3,v2) - 27017*x(i2,i4,v1) - 27017*x(i2,i4,v2) - 11673*x(i2,i5,v1) - 11673*x(i2,i5,v2) - 8444*x(i2,i6,v1) - 8444*x(i2,i6,v2) - 24573*x(i3,d,v1)
     
      - 24573*x(i3,d,v2) - 397*x(i3,i2,v1) - 397*x(i3,i2,v2) - 1E25*x(i3,i3,v1) - 1E25*x(i3,i3,v2) - 26779*x(i3,i4,v1) - 26779*x(i3,i4,v2) - 11713*x(i3,i5,v1) - 11713*x(i3,i5,v2) - 8046*x(i3,i6,v1) - 8046*x(i3,i6,v2) - 926*x(i4,d,v1) - 926*x(i4,d,v2)
     
      - 25676*x(i4,i2,v1) - 25676*x(i4,i2,v2) - 25279*x(i4,i3,v1) - 25279*x(i4,i3,v2) - 1E25*x(i4,i4,v1) - 1E25*x(i4,i4,v2) - 33327*x(i4,i5,v1) - 33327*x(i4,i5,v2) - 33448*x(i4,i6,v1) - 33448*x(i4,i6,v2) - 33095*x(i5,d,v1) - 33095*x(i5,d,v2)
     
      - 12576*x(i5,i2,v1) - 12576*x(i5,i2,v2) - 11599*x(i5,i3,v1) - 11599*x(i5,i3,v2) - 35301*x(i5,i4,v1) - 35301*x(i5,i4,v2) - 1E25*x(i5,i5,v1) - 1E25*x(i5,i5,v2) - 14237*x(i5,i6,v1) - 14237*x(i5,i6,v2) - 32792*x(i6,d,v1) - 32792*x(i6,d,v2)
     
      - 8453*x(i6,i2,v1) - 8453*x(i6,i2,v2) - 8056*x(i6,i3,v1) - 8056*x(i6,i3,v2) - 34998*x(i6,i4,v1) - 34998*x(i6,i4,v2) - 14254*x(i6,i5,v1) - 14254*x(i6,i5,v2) - 1E25*x(i6,i6,v1) - 1E25*x(i6,i6,v2) =E= 0 ; (LHS = 0)
     

---- Nur_einmal_anfahren  =E=  Jeder Kundenknoten darf nur einmal angefahren werden

Nur_einmal_anfahren(i2)..  x(i2,d,v1) + x(i2,d,v2) + x(i2,i2,v1) + x(i2,i2,v2) + x(i2,i3,v1) + x(i2,i3,v2) + x(i2,i4,v1) + x(i2,i4,v2) + x(i2,i5,v1) + x(i2,i5,v2) + x(i2,i6,v1) + x(i2,i6,v2) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
Nur_einmal_anfahren(i3)..  x(i3,d,v1) + x(i3,d,v2) + x(i3,i2,v1) + x(i3,i2,v2) + x(i3,i3,v1) + x(i3,i3,v2) + x(i3,i4,v1) + x(i3,i4,v2) + x(i3,i5,v1) + x(i3,i5,v2) + x(i3,i6,v1) + x(i3,i6,v2) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
Nur_einmal_anfahren(i4)..  x(i4,d,v1) + x(i4,d,v2) + x(i4,i2,v1) + x(i4,i2,v2) + x(i4,i3,v1) + x(i4,i3,v2) + x(i4,i4,v1) + x(i4,i4,v2) + x(i4,i5,v1) + x(i4,i5,v2) + x(i4,i6,v1) + x(i4,i6,v2) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
REMAINING 2 ENTRIES SKIPPED


---- Fahrzeugkapaziteat  =L=  Die Kapazitaet jedes Fahrzeugs darf nicht überschritten werden

Fahrzeugkapaziteat(v1)..  22*x(i2,d,v1) + 22*x(i2,i2,v1) + 22*x(i2,i3,v1) + 22*x(i2,i4,v1) + 22*x(i2,i5,v1) + 22*x(i2,i6,v1) + 44*x(i3,d,v1) + 44*x(i3,i2,v1) + 44*x(i3,i3,v1) + 44*x(i3,i4,v1) + 44*x(i3,i5,v1) + 44*x(i3,i6,v1) + 21*x(i4,d,v1)
     
      + 21*x(i4,i2,v1) + 21*x(i4,i3,v1) + 21*x(i4,i4,v1) + 21*x(i4,i5,v1) + 21*x(i4,i6,v1) + 44*x(i5,d,v1) + 44*x(i5,i2,v1) + 44*x(i5,i3,v1) + 44*x(i5,i4,v1) + 44*x(i5,i5,v1) + 44*x(i5,i6,v1) + 71*x(i6,d,v1) + 71*x(i6,i2,v1) + 71*x(i6,i3,v1)
     
      + 71*x(i6,i4,v1) + 71*x(i6,i5,v1) + 71*x(i6,i6,v1) =L= 125 ; (LHS = 0)
     
Fahrzeugkapaziteat(v2)..  22*x(i2,d,v2) + 22*x(i2,i2,v2) + 22*x(i2,i3,v2) + 22*x(i2,i4,v2) + 22*x(i2,i5,v2) + 22*x(i2,i6,v2) + 44*x(i3,d,v2) + 44*x(i3,i2,v2) + 44*x(i3,i3,v2) + 44*x(i3,i4,v2) + 44*x(i3,i5,v2) + 44*x(i3,i6,v2) + 21*x(i4,d,v2)
     
      + 21*x(i4,i2,v2) + 21*x(i4,i3,v2) + 21*x(i4,i4,v2) + 21*x(i4,i5,v2) + 21*x(i4,i6,v2) + 44*x(i5,d,v2) + 44*x(i5,i2,v2) + 44*x(i5,i3,v2) + 44*x(i5,i4,v2) + 44*x(i5,i5,v2) + 44*x(i5,i6,v2) + 71*x(i6,d,v2) + 71*x(i6,i2,v2) + 71*x(i6,i3,v2)
     
      + 71*x(i6,i4,v2) + 71*x(i6,i5,v2) + 71*x(i6,i6,v2) =L= 145 ; (LHS = 0)
     

---- Depot_einmal_pro_Fahrzeug_abfahren  =E=  Das Depot darf pro Fahrzeug nur einmal angefahren werden

Depot_einmal_pro_Fahrzeug_abfahren(v1)..  x(d,d,v1) + x(d,i2,v1) + x(d,i3,v1) + x(d,i4,v1) + x(d,i5,v1) + x(d,i6,v1) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
Depot_einmal_pro_Fahrzeug_abfahren(v2)..  x(d,d,v2) + x(d,i2,v2) + x(d,i3,v2) + x(d,i4,v2) + x(d,i5,v2) + x(d,i6,v2) =E= 1 ; (LHS = 0, INFES = 1 ****)
     

---- Bedingung_noch_nachzuvollziehen  =E=  Das ist noch eine Bedingung die noch nachzuvollziehen ist

Bedingung_noch_nachzuvollziehen(i2,v1)..  x(d,i2,v1) - x(i2,d,v1) - x(i2,i3,v1) - x(i2,i4,v1) - x(i2,i5,v1) - x(i2,i6,v1) + x(i3,i2,v1) + x(i4,i2,v1) + x(i5,i2,v1) + x(i6,i2,v1) =E= 0 ; (LHS = 0)
     
Bedingung_noch_nachzuvollziehen(i2,v2)..  x(d,i2,v2) - x(i2,d,v2) - x(i2,i3,v2) - x(i2,i4,v2) - x(i2,i5,v2) - x(i2,i6,v2) + x(i3,i2,v2) + x(i4,i2,v2) + x(i5,i2,v2) + x(i6,i2,v2) =E= 0 ; (LHS = 0)
     
Bedingung_noch_nachzuvollziehen(i3,v1)..  x(d,i3,v1) + x(i2,i3,v1) - x(i3,d,v1) - x(i3,i2,v1) - x(i3,i4,v1) - x(i3,i5,v1) - x(i3,i6,v1) + x(i4,i3,v1) + x(i5,i3,v1) + x(i6,i3,v1) =E= 0 ; (LHS = 0)
     
REMAINING 7 ENTRIES SKIPPED


---- Depot_einmal_pro_Fahrzeug_anfahren  =E=  Das Depot darf pro Fahrzeug nur einmal angefahren werden

Depot_einmal_pro_Fahrzeug_anfahren(v1)..  x(d,d,v1) + x(i2,d,v1) + x(i3,d,v1) + x(i4,d,v1) + x(i5,d,v1) + x(i6,d,v1) =E= 1 ; (LHS = 0, INFES = 1 ****)
     
Depot_einmal_pro_Fahrzeug_anfahren(v2)..  x(d,d,v2) + x(i2,d,v2) + x(i3,d,v2) + x(i4,d,v2) + x(i5,d,v2) + x(i6,d,v2) =E= 1 ; (LHS = 0, INFES = 1 ****)
     

---- Kurzzyklenbedingung  =L=  Unterbinden von Kurzzyklen

Kurzzyklenbedingung(d,d,v1)..  100000000000*x(d,d,v1) =L= -9.9999999999999E24 ; (LHS = 0, INFES = 9.9999999999999E24 ****)
     
GAMS Rev 237  WEX-WEI 23.7.3 x86_64/MS Windows                                                                                                                                                                                         01/24/12 20:42:46 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE vrp Using MIP From line 120


     Kurzzyklenbedingung  =L=  Unterbinden von Kurzzyklen

Kurzzyklenbedingung(d,d,v2)..  100000000000*x(d,d,v2) =L= -9.9999999999999E24 ; (LHS = 0, INFES = 9.9999999999999E24 ****)
     
Kurzzyklenbedingung(d,i2,v1)..  100000000000*x(d,i2,v1) + w(d,v1) - w(i2,v1) =L= 99999998449 ; (LHS = 0)
     
REMAINING 69 ENTRIES SKIPPED

GAMS Rev 237  WEX-WEI 23.7.3 x86_64/MS Windows                                                                                                                                                                                         01/24/12 20:42:46 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE vrp Using MIP From line 120


---- Z  Zielfunktionswert

Z
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       Zielfunktion


---- x  Transportmengen

x(d,d,v1)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
  -1.00000E+25  Zielfunktion
        1       Depot_einmal_pro_Fahrzeug_abfahren(v1)
        1       Depot_einmal_pro_Fahrzeug_anfahren(v1)
  1.000000E+11  Kurzzyklenbedingung(d,d,v1)

x(d,d,v2)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
  -1.00000E+25  Zielfunktion
        1       Depot_einmal_pro_Fahrzeug_abfahren(v2)
        1       Depot_einmal_pro_Fahrzeug_anfahren(v2)
  1.000000E+11  Kurzzyklenbedingung(d,d,v2)

x(d,i2,v1)
                (.LO, .L, .UP, .M = 0, 0, 1, 0)
   -25209       Zielfunktion
        1       Depot_einmal_pro_Fahrzeug_abfahren(v1)
        1       Bedingung_noch_nachzuvollziehen(i2,v1)
  1.000000E+11  Kurzzyklenbedingung(d,i2,v1)

REMAINING 69 ENTRIES SKIPPED

---- w  Anfahrtszeitpunkt

w(d,v1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       Kurzzyklenbedingung(d,i2,v1)
        1       Kurzzyklenbedingung(d,i3,v1)
        1       Kurzzyklenbedingung(d,i4,v1)
        1       Kurzzyklenbedingung(d,i5,v1)
        1       Kurzzyklenbedingung(d,i6,v1)
       -1       Kurzzyklenbedingung(i2,d,v1)
       -1       Kurzzyklenbedingung(i3,d,v1)
       -1       Kurzzyklenbedingung(i4,d,v1)
       -1       Kurzzyklenbedingung(i5,d,v1)
       -1       Kurzzyklenbedingung(i6,d,v1)

w(d,v2)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
        1       Kurzzyklenbedingung(d,i2,v2)
        1       Kurzzyklenbedingung(d,i3,v2)
        1       Kurzzyklenbedingung(d,i4,v2)
        1       Kurzzyklenbedingung(d,i5,v2)
        1       Kurzzyklenbedingung(d,i6,v2)
       -1       Kurzzyklenbedingung(i2,d,v2)
       -1       Kurzzyklenbedingung(i3,d,v2)
       -1       Kurzzyklenbedingung(i4,d,v2)
       -1       Kurzzyklenbedingung(i5,d,v2)
       -1       Kurzzyklenbedingung(i6,d,v2)

w(i2,v1)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
       -1       Kurzzyklenbedingung(d,i2,v1)
        1       Kurzzyklenbedingung(i2,d,v1)
        1       Kurzzyklenbedingung(i2,i3,v1)
        1       Kurzzyklenbedingung(i2,i4,v1)
        1       Kurzzyklenbedingung(i2,i5,v1)
        1       Kurzzyklenbedingung(i2,i6,v1)
       -1       Kurzzyklenbedingung(i3,i2,v1)
       -1       Kurzzyklenbedingung(i4,i2,v1)
       -1       Kurzzyklenbedingung(i5,i2,v1)
       -1       Kurzzyklenbedingung(i6,i2,v1)

GAMS Rev 237  WEX-WEI 23.7.3 x86_64/MS Windows                                                                                                                                                                                         01/24/12 20:42:46 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE vrp Using MIP From line 120


     w  Anfahrtszeitpunkt

REMAINING 9 ENTRIES SKIPPED
GAMS Rev 237  WEX-WEI 23.7.3 x86_64/MS Windows                                                                                                                                                                                         01/24/12 20:42:46 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE vrp Using MIP From line 120


MODEL STATISTICS

BLOCKS OF EQUATIONS           7     SINGLE EQUATIONS           94
BLOCKS OF VARIABLES           3     SINGLE VARIABLES           85
NON ZERO ELEMENTS           509     DISCRETE VARIABLES         72



**** THE MODEL EXCEEDS THE DEMO LIMITS
**** MAX MATRIX ROWS          300
**** MAX MATRIX COLUMNS       300
**** MAX NON ZERO ELEMENTS   2000
**** MAX NON LINEAR N-Z      1000
**** MAX DISCRETE VARIABLES    50
**** Terminated due to a licensing error

     GAMS Development Corporation, Washington, DC   G871201/0000CA-ANY
     Free Demo,  202-342-0180,  sales@gams.com,  www.gams.com         
     10491194000S                                                   00
     01234567000000                                                   
     DC0000       Ref: Generated by Base            A Demo            
